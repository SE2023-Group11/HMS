{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withModifiers as _withModifiers, createBlock as _createBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../Pic/OIP.jpg';\nconst _withScopeId = n => (_pushScopeId(\"data-v-3155ac83\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"Pic\"\n}, [/*#__PURE__*/_createCommentVNode(\" <img src=\\\"../Pic/yiyuan.jpg\\\" v-if=\\\"!imageUrl\\\" /> \")], -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"Pic1\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  src: _imports_0\n};\nconst _hoisted_4 = {\n  class: \"login\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"医院信息管理系统\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"用户登录\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"uid\"\n}, \"用户id\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"密码\", -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"tongzhi\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"xia\"\n}, [/*#__PURE__*/_createElementVNode(\"pre\", null, [/*#__PURE__*/_createTextVNode(\"\\n\\n        版权所有 2014-2022 北京航空航天大学\\n        京ICP备05004617-3文保网安备案号1101080018\\n        \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\"\\n        地址：北京市海淀区学院路37号\\n        邮编：100191\\n        电话：82317114\\n        \")])], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [!_ctx.imageUrl ? (_openBlock(), _createElementBlock(\"img\", _hoisted_3)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _hoisted_6, _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => _ctx.submitForm && _ctx.submitForm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createVNode($setup[\"InputText\"], {\n    placeholder: '请输入您的id号或身份证号',\n    type: \"text\",\n    id: \"uid\",\n    modelValue: $setup.uid,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.uid = $event),\n    class: \"inp\"\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createVNode($setup[\"Password\"], {\n    placeholder: '请输入您的密码',\n    id: \"password\",\n    modelValue: $setup.password,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    style: {\n      \"width\": \"400px\",\n      \"height\": \"40px\"\n    }\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _hoisted_11, _createVNode($setup[\"SelectButton\"], {\n    modelValue: $setup.is_patient,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.is_patient = $event),\n    options: $setup.options,\n    \"aria-labelledby\": \"basic\"\n  }, null, 8 /* PROPS */, [\"modelValue\", \"options\"]), _hoisted_12, _createElementVNode(\"div\", null, [_createTextVNode(\"            \"), _createVNode(_component_router_link, {\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"用户注册\")]),\n    _: 1 /* STABLE */\n  }), _createTextVNode(\"      \"), _createVNode(_component_router_link, {\n    to: \"/ForgetPwd\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"忘记密码\")]),\n    _: 1 /* STABLE */\n  })]), _hoisted_13, _createVNode($setup[\"Button\"], {\n    class: \"bttt\",\n    label: \"登录\",\n    onClick: $setup.loginbt\n  })], 32 /* HYDRATE_EVENTS */)]), _createCommentVNode(\" 消息的通知 \"), _createElementVNode(\"div\", _hoisted_14, [_createCommentVNode(\" 用户登录 \"), _ctx.judlog == 1 ? (_openBlock(), _createBlock($setup[\"Message\"], {\n    key: 0,\n    \"z-index\": \"9999999999999\",\n    severity: \"success\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"登录成功！\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _ctx.judlog == -1 ? (_openBlock(), _createBlock($setup[\"Message\"], {\n    key: 1,\n    \"z-index\": \"9999999999999\",\n    severity: \"error\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"登录失败\")]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]), _hoisted_15], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","_createElementVNode","class","_createCommentVNode","src","for","_hoisted_1","_hoisted_2","_ctx","imageUrl","_createElementBlock","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","args","submitForm","_hoisted_7","_hoisted_8","_createVNode","$setup","placeholder","type","id","uid","$event","_hoisted_9","_hoisted_10","password","style","_hoisted_11","is_patient","options","_hoisted_12","_component_router_link","to","_hoisted_13","label","onClick","loginbt","_hoisted_14","judlog","_createBlock","severity","_hoisted_15"],"sources":["D:\\Desktop\\HMS-front-end\\hms_frontend\\src\\views\\LoginForm.vue"],"sourcesContent":["<template>\n    <div class=\"Pic\">\n        <!-- <img src=\"../Pic/yiyuan.jpg\" v-if=\"!imageUrl\" /> -->\n    </div>\n    <div class=\"Pic1\">\n        <img src=\"../Pic/OIP.jpg\" v-if=\"!imageUrl\" />\n    </div>\n    <div class=\"login\">\n\n        <h1>医院信息管理系统</h1>\n        <h2>用户登录</h2>\n        <form @submit.prevent=\"submitForm\">\n            <div class=\"form-group\">\n                <label for=\"uid\">用户id</label>\n                <InputText :placeholder=\"'请输入您的id号或身份证号'\" type=\"text\" id=\"uid\" v-model=\"uid\" class=\"inp\"/>\n            </div>\n\n            <div class=\"form-group\">\n                <label for=\"password\">密码</label>\n                <Password :placeholder=\"'请输入您的密码'\" id=\"password\" v-model=\"password\" style=\"width: 400px; height: 40px\" />\n            </div>\n            <br>\n            <SelectButton v-model=\"is_patient\" :options=\"options\" aria-labelledby=\"basic\" />\n            <br>\n            <div>\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                <router-link to=\"/register\">用户注册</router-link>\n                &nbsp;&nbsp;&nbsp;&nbsp;\n                <router-link to=\"/ForgetPwd\">忘记密码</router-link>\n            </div>\n            <br>\n            <Button class=\"bttt\" label=\"登录\" @click=\"loginbt\" />\n        </form>\n    </div>\n    <!-- 消息的通知 -->\n    <div class=\"tongzhi\">\n        <!-- 用户登录 -->\n        <Message z-index=9999999999999 v-if=\"judlog == 1\" severity=\"success\">登录成功！</Message>\n        <Message z-index=9999999999999 v-if=\"judlog == -1\" severity=\"error\">登录失败</Message>\n    </div>\n\n    <div class=\"xia\">\n        \n        <pre>\n\n\n        版权所有 2014-2022 北京航空航天大学\n        京ICP备05004617-3文保网安备案号1101080018\n        <br>\n        地址：北京市海淀区学院路37号\n        邮编：100191\n        电话：82317114\n        </pre>\n    </div>\n</template>\n  \n<script setup>\nimport { ref } from 'vue';\nimport axios from 'axios'\n//primevue\nimport InputText from 'primevue/inputtext';\nimport Button from 'primevue/button';\nimport Password from 'primevue/password';\nimport SelectButton from 'primevue/selectbutton';\nimport Message from 'primevue/message';\n\nconst uid = ref('P00000000000');\nconst password = ref('newpassword');\nconst options = ref(['患者身份进入', '非患者身份进入']);\nconst is_patient = ref('off');\nconst role = ref('patient')//判断是不是患者\n//用于判断登录是否成功的变量\nconst juglog = ref(0);\nfunction loginbt() {\n    //首先判断是不是患者\n    if (is_patient.value === '患者身份进入') role.value = 'patient';\n    else role.value = 'doctor';\n    console.log(role.value);\n    if (role.value == 'patient') {\n        axios.post('http://121.199.161.134:8080/loginPatient',null, {\n            params: {\n                uid: uid.value,\n                password: password.value,\n            }}\n        )\n            .then(response => {\n                console.log(response.data.code);\n                //传送成功的情况下，判断信息是否正确\n                const jud =response.data.code;\n                console.log(response.data.data);\n                if(jud == 1){\n                    console.log(response.data);\n                    sessionStorage.setItem('token', response.data.data);\n                    sessionStorage.setItem('role', role.value);//y是患者，n是医生\n                    juglog.value = 1;\n                    window.location.href=\"/patientRoot\";\n                }\n                //将将返回的token存到session中\n                else if(jud == 2){\n\n                    sessionStorage.setItem('token', response.data.data);\n                    sessionStorage.setItem('role', role.value);//y是患者，n是医生\n                    juglog.value = 1;\n                    window.location.href=\"/managerEnter\";\n                }\n                else{\n                    console.log('登录失败');\n                    juglog.value = -1;\n                }\n            })\n            .catch(error => {\n                console.error(error)\n                judlog.value = -1;\n            })\n    }\n    if (role.value == 'doctor') {\n        axios.post('http://121.199.161.134:8080/loginDoctor',null,{params: {\n                uid: uid.value,\n                password: password.value,\n            }}\n        )\n            .then(response => {\n                console.log(response.data.code);\n                //传送成功的情况下，判断信息是否正确\n                const jud =response.data.code;\n                console.log(typeof(jud));\n                if(jud == 1){\n                    sessionStorage.setItem('token', response.data.data);\n                    sessionStorage.setItem('role', role.value);//y是患者，n是医生\n                    juglog.value = 1;\n                    window.location.href=\"/doctorRoot\";\n                }\n                //将将返回的token存到session中\n                else if(jud == 2){\n                    sessionStorage.setItem('token', response.data.data);\n                    sessionStorage.setItem('role', role.value);//y是患者，n是医生\n                    juglog.value = 1;\n                    console.log(sessionStorage.getItem('token'));\n                    window.location.href=\"/defaultView\";\n                }\n                else{\n                    console.log('登录失败');\n                    juglog.value = -1;\n                }\n            })\n            .catch(error => {\n                console.error(error)\n                judlog.value = -1;\n            })\n    }\n\n}\n\n</script>\n  \n<style scoped>\n.Pic1 img {\n    position: absolute;\n    width: 100px;\n    top:0px;\n    right: 285px;\n}\n\n.Pic {\n    position: absolute;\n    background-image: url(\"../Pic/yiyuan.jpg\");\n    background-size: cover;\n    top: 0px;\n    width: 74%;\n    height: 100%;\n}\n.inp{\n    width: 200px;\n}\n.l1 {\n    position: absolute;\n    top: 10px;\n    right: 0;\n}\n\n.bttt {\n    position: relative;\n    width: 200px;\n    left: 35px;\n}\n\n.Pic img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n}\n\n.login {\n    position: absolute;\n    left: 75%;\n    top: 90px;\n    width: 350px;\n    margin: 0 auto;\n    padding: 20px;\n    /* border: 1px solid #ccc;\n    border-radius: 5px; */\n}\n\n.form-group {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 10px;\n}\n\n.tongzhi {\n    position: absolute;\n    left: 600px;\n    width: 400px;\n    top: 20px;\n    z-index: 999999999999999999999999;\n}\n\nlabel {\n    font-weight: bold;\n    margin-bottom: 5px;\n}\n\n.xia {\n    position: absolute;\n    bottom: 0;\n    font: 5px;\n    left: 1140px;\n    width: 300px;\n    \n}\n\ninput[type='uid'],\ninput[type='password'],\ninput[type='text'] {\n    padding: 10px;\n    border-radius: 3px;\n    border: 1px solid #ccc;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}