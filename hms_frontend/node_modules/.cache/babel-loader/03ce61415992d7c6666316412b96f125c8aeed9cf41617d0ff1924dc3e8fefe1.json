{"ast":null,"code":"import { onMounted } from 'vue';\nimport { ref, reactive } from 'vue';\nimport axios from 'axios';\nexport default {\n  __name: 'workTable',\n  props: {\n    doctorID: String\n  },\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const props = __props;\n    let workInfo = ref({});\n    let token = \"eyJhbGciOiJIUzI1NiJ9.eyJub3dMb2dnZWRJblR5cGUiOiJub3dMb2dnZWRJblR5cGVBZG1pbiIsIm5vd0xvZ2dlZEluSWQiOiIxIiwiaWF0IjoxNjg0NzQ2OTQxLCJleHAiOjE2ODY1NDY5NDF9.npgDMKJW-7zrsoAlBmdtuWbQNqzhi_0bBzjXieLqKu8\";\n    let clrs = reactive(Array.from(Array(7), () => new Array(13)));\n    let newClrs = reactive(Array.from(Array(13), () => new Array(7)));\n    onMounted(() => {\n      axios({\n        method: 'post',\n        url: 'http://121.199.161.134:8080/getJob',\n        params: {\n          token: token,\n          doctorID: props.doctorID\n        }\n      }).then(res => {\n        workInfo.value = res.data.data;\n        clrs[0] = str2Arr(workInfo.value.mon1);\n        clrs[1] = str2Arr(workInfo.value.tue1);\n        clrs[2] = str2Arr(workInfo.value.wed1);\n        clrs[3] = str2Arr(workInfo.value.thu1);\n        clrs[4] = str2Arr(workInfo.value.fri1);\n        clrs[5] = str2Arr(workInfo.value.sat1);\n        clrs[6] = str2Arr(workInfo.value.sun1);\n        // console.log(clrs[0][0])\n        for (let i = 0; i < 7; i++) {\n          for (let j = 0; j < 13; j++) {\n            newClrs[j][i] = clrs[i][j];\n          }\n        }\n      });\n\n      // newClrs[0][0] = 2\n      console.log(newClrs);\n    });\n    function str2Arr(s) {\n      let temp_s = s.substring(1, 26);\n      return temp_s.split(\",\");\n    }\n    const __returned__ = {\n      get workInfo() {\n        return workInfo;\n      },\n      set workInfo(v) {\n        workInfo = v;\n      },\n      get props() {\n        return props;\n      },\n      set props(v) {\n        props = v;\n      },\n      get token() {\n        return token;\n      },\n      set token(v) {\n        token = v;\n      },\n      get clrs() {\n        return clrs;\n      },\n      set clrs(v) {\n        clrs = v;\n      },\n      get newClrs() {\n        return newClrs;\n      },\n      set newClrs(v) {\n        newClrs = v;\n      },\n      str2Arr,\n      onMounted,\n      ref,\n      reactive,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","reactive","axios","workInfo","token","clrs","Array","from","newClrs","method","url","params","doctorID","props","then","res","value","data","str2Arr","mon1","tue1","wed1","thu1","fri1","sat1","sun1","i","j","console","log","s","temp_s","substring","split"],"sources":["D:/Desktop/HMS-front-end/hms_frontend/src/manager/components/jobManage/workTable.vue"],"sourcesContent":["<template>\r\n    <table border=\"1\" width=\"80%\" cellspacing=\"1px\" cellpadding=\"6px\" align=\"center\" style=\"text-align: center; height: 450px; margin-top: 15px;\">\r\n        <tr>\r\n            <td></td>\r\n            <td>星期一</td>\r\n            <td>星期二</td>\r\n            <td>星期三</td>\r\n            <td>星期四</td>\r\n            <td>星期五</td>\r\n            <td>星期六</td>\r\n            <td>星期日</td>\r\n        </tr>\r\n        <tr v-for=\"(row, rowIndex) in newClrs\" :key=\"rowIndex\">\r\n            <td v-if=\"rowIndex===0\">8:00-8:30</td>\r\n            <td v-if=\"rowIndex===1\" >8:30-9:00</td>\r\n            <td v-if=\"rowIndex===2\" >9:00-9:30</td>\r\n            <td v-if=\"rowIndex===3\" >9:30-10:00</td>\r\n            <td v-if=\"rowIndex===4\" >10:00-10:30</td>\r\n            <td v-if=\"rowIndex===5\" >10:30-11:00</td>\r\n            <td v-if=\"rowIndex===6\" >11:00-11:30</td>\r\n            <td v-if=\"rowIndex===7\" >14:00-14:30</td>\r\n            <td v-if=\"rowIndex===8\" >14:30-15:00</td>\r\n            <td v-if=\"rowIndex===9\" >15:00-15:30</td>\r\n            <td v-if=\"rowIndex===10\">15:30-16:00</td>\r\n            <td v-if=\"rowIndex===11\">16:00-16:30</td>\r\n            <td v-if=\"rowIndex===12\">16:30-17:00</td>\r\n            <td v-for=\"(cell, cellIndex) in row\" :key=\"cellIndex\" align=\"center\" :class=\"{\r\n            red: cell=== '3',\r\n            orange: cell === '2',\r\n            green: cell ==='1'\r\n            }\"> </td>\r\n        </tr>\r\n    </table>\r\n    <div style=\"margin-top: 15px;\">\r\n        <Button class=\"red\" style=\"margin-left: 150px;border-radius: 5px; background-color: #0048fd4b; color: #000000;\" label=\"预约\" disabled />\r\n        <Button class=\"orange\" style=\"margin-left: 100px;border-radius: 5px; background-color: #b0aeab4e; color: #000000;\" label=\"门诊\" disabled />\r\n        <Button class=\"green\" style=\"margin-left: 100px;border-radius: 5px; background-color: #bff2ffaa; color: #000000;\" label=\"休息\" disabled />\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {defineProps, onMounted} from 'vue'\r\nimport {ref, reactive} from 'vue'\r\nimport axios from 'axios';\r\nlet workInfo = ref({})\r\nlet props = defineProps({doctorID: String})\r\nlet token = \"eyJhbGciOiJIUzI1NiJ9.eyJub3dMb2dnZWRJblR5cGUiOiJub3dMb2dnZWRJblR5cGVBZG1pbiIsIm5vd0xvZ2dlZEluSWQiOiIxIiwiaWF0IjoxNjg0NzQ2OTQxLCJleHAiOjE2ODY1NDY5NDF9.npgDMKJW-7zrsoAlBmdtuWbQNqzhi_0bBzjXieLqKu8\"\r\nlet clrs = reactive(Array.from(Array(7), () => new Array(13)))\r\nlet newClrs = reactive(Array.from(Array(13), () => new Array(7)))\r\n\r\nonMounted(()=>{\r\n    axios({\r\n        method: 'post',\r\n        url: 'http://121.199.161.134:8080/getJob',\r\n        params: {\r\n            token: token,\r\n            doctorID: props.doctorID\r\n        }\r\n    }).then((res)=>{\r\n        workInfo.value = res.data.data\r\n        clrs[0] = str2Arr(workInfo.value.mon1)\r\n        clrs[1] = str2Arr(workInfo.value.tue1)\r\n        clrs[2] = str2Arr(workInfo.value.wed1)\r\n        clrs[3] = str2Arr(workInfo.value.thu1)\r\n        clrs[4] = str2Arr(workInfo.value.fri1)\r\n        clrs[5] = str2Arr(workInfo.value.sat1)\r\n        clrs[6] = str2Arr(workInfo.value.sun1)\r\n        // console.log(clrs[0][0])\r\n        for(let i=0; i<7; i++)\r\n        {\r\n            for(let j=0; j<13; j++)\r\n            {\r\n                newClrs[j][i] = clrs[i][j]\r\n            }\r\n        }\r\n    })\r\n    \r\n    // newClrs[0][0] = 2\r\n    console.log(newClrs)\r\n})\r\n\r\nfunction str2Arr(s)\r\n{\r\n    let temp_s = s.substring(1, 26)\r\n    return temp_s.split(\",\")\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.green {\r\nbackground-color: #bff2ffaa;\r\ncolor: #000000;\r\n}\r\n\r\n.red {\r\nbackground-color: #0048fd4b;\r\ncolor: #000000;\r\n}\r\n\r\n.orange {\r\nbackground-color: #b0aeab4e;\r\ncolor: #000000;\r\n}\r\n</style>"],"mappings":"AAyCA,SAAqBA,SAAS,QAAO,KAAK;AAC1C,SAAQC,GAAG,EAAEC,QAAQ,QAAO,KAAK;AACjC,OAAOC,KAAK,MAAM,OAAO;;;;;;;;;;;IACzB,IAAIC,QAAQ,GAAGH,GAAG,CAAC,CAAC,CAAC,CAAC;IAEtB,IAAII,KAAK,GAAG,mMAAmM;IAC/M,IAAIC,IAAI,GAAGJ,QAAQ,CAACK,KAAK,CAACC,IAAI,CAACD,KAAK,CAAC,CAAC,CAAC,EAAE,MAAM,IAAIA,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;IAC9D,IAAIE,OAAO,GAAGP,QAAQ,CAACK,KAAK,CAACC,IAAI,CAACD,KAAK,CAAC,EAAE,CAAC,EAAE,MAAM,IAAIA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAEjEP,SAAS,CAAC,MAAI;MACVG,KAAK,CAAC;QACFO,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,oCAAoC;QACzCC,MAAM,EAAE;UACJP,KAAK,EAAEA,KAAK;UACZQ,QAAQ,EAAEC,KAAK,CAACD;QACpB;MACJ,CAAC,CAAC,CAACE,IAAI,CAAEC,GAAG,IAAG;QACXZ,QAAQ,CAACa,KAAK,GAAGD,GAAG,CAACE,IAAI,CAACA,IAAI;QAC9BZ,IAAI,CAAC,CAAC,CAAC,GAAGa,OAAO,CAACf,QAAQ,CAACa,KAAK,CAACG,IAAI,CAAC;QACtCd,IAAI,CAAC,CAAC,CAAC,GAAGa,OAAO,CAACf,QAAQ,CAACa,KAAK,CAACI,IAAI,CAAC;QACtCf,IAAI,CAAC,CAAC,CAAC,GAAGa,OAAO,CAACf,QAAQ,CAACa,KAAK,CAACK,IAAI,CAAC;QACtChB,IAAI,CAAC,CAAC,CAAC,GAAGa,OAAO,CAACf,QAAQ,CAACa,KAAK,CAACM,IAAI,CAAC;QACtCjB,IAAI,CAAC,CAAC,CAAC,GAAGa,OAAO,CAACf,QAAQ,CAACa,KAAK,CAACO,IAAI,CAAC;QACtClB,IAAI,CAAC,CAAC,CAAC,GAAGa,OAAO,CAACf,QAAQ,CAACa,KAAK,CAACQ,IAAI,CAAC;QACtCnB,IAAI,CAAC,CAAC,CAAC,GAAGa,OAAO,CAACf,QAAQ,CAACa,KAAK,CAACS,IAAI,CAAC;QACtC;QACA,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,CAAC,EAAEA,CAAC,EAAE,EACrB;UACI,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,EAAE,EAAEA,CAAC,EAAE,EACtB;YACInB,OAAO,CAACmB,CAAC,CAAC,CAACD,CAAC,CAAC,GAAGrB,IAAI,CAACqB,CAAC,CAAC,CAACC,CAAC,CAAC;UAC9B;QACJ;MACJ,CAAC,CAAC;;MAEF;MACAC,OAAO,CAACC,GAAG,CAACrB,OAAO,CAAC;IACxB,CAAC,CAAC;IAEF,SAASU,OAAOA,CAACY,CAAC,EAClB;MACI,IAAIC,MAAM,GAAGD,CAAC,CAACE,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;MAC/B,OAAOD,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC;IAC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}