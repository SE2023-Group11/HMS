{"ast":null,"code":"import { ref, watchEffect } from 'vue';\nimport axios from 'axios';\nimport RoomInfo from './RoomInfo.vue';\nimport DoctorInfo from './DoctorInfo.vue';\nimport RadioButton from 'primevue/radiobutton';\nimport InputText from 'primevue/inputtext';\nimport Button from 'primevue/button';\nexport default {\n  __name: 'ManagerInfo',\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    let notifyType = ref('');\n    let name = ref('');\n    let roomInfo = ref('');\n    let doctorInfo = ref(new Object());\n    let showAll = ref(false);\n    let showRoom = ref(false);\n    let showDoctor = ref(false);\n    let token = \"eyJhbGciOiJIUzI1NiJ9.eyJub3dMb2dnZWRJblR5cGUiOiJub3dMb2dnZWRJblR5cGVBZG1pbiIsIm5vd0xvZ2dlZEluSWQiOiIxIiwiaWF0IjoxNjg0NzQ2OTQxLCJleHAiOjE2ODY1NDY5NDF9.npgDMKJW-7zrsoAlBmdtuWbQNqzhi_0bBzjXieLqKu8\";\n    watchEffect(() => {\n      name.value = \"\";\n      showAll.value = false;\n      if (notifyType.value == \"科室\") {\n        showRoom.value = true;\n        showDoctor.value = false;\n      } else if (notifyType.value == \"医生\") {\n        showRoom.value = false;\n        showDoctor.value = true;\n      } else {\n        showRoom.value = false;\n        showDoctor.value = false;\n      }\n    });\n    watchEffect(() => {\n      if (name.value != null) {\n        showAll.value = false;\n      }\n    });\n    function getRoomInfo() {\n      console.log(name.value);\n      axios({\n        method: 'post',\n        url: 'http://121.199.161.134:8080/getRoomInfo',\n        params: {\n          roomName: name.value\n        }\n      }).then(s => {\n        console.log(s);\n        if (s.data.code == 0) {\n          window.alert(\"请求错误，原因为\" + s.data.msg);\n        } else {\n          roomInfo.value = s.data.data;\n          showAll.value = true;\n        }\n      }).catch(err => {\n        window.alert(\"请求错误，原因为\" + err);\n      });\n    }\n    function getDoctorInfo() {\n      axios({\n        method: 'post',\n        url: 'http://121.199.161.134:8080/getDoctorInfo',\n        params: {\n          doctorName: name.value,\n          token: token\n        }\n      }).then(s => {\n        console.log(s);\n        if (s.data.code == 0) {\n          window.alert(\"请求错误，原因为\" + s.data.msg);\n        } else if (s.data.data.length == 0) {\n          window.alert(\"医生不存在\");\n        } else {\n          doctorInfo.value = s.data.data[0];\n          console.log(doctorInfo.value);\n          showAll.value = true;\n        }\n      }).catch(err => {\n        window.alert(\"请求错误，原因为\" + err);\n      });\n    }\n    function getInfo() {\n      if (notifyType.value == \"科室\") {\n        console.log(\"科室\");\n        getRoomInfo();\n      } else {\n        console.log(\"医生\");\n        getDoctorInfo();\n      }\n    }\n    const __returned__ = {\n      get notifyType() {\n        return notifyType;\n      },\n      set notifyType(v) {\n        notifyType = v;\n      },\n      get name() {\n        return name;\n      },\n      set name(v) {\n        name = v;\n      },\n      get roomInfo() {\n        return roomInfo;\n      },\n      set roomInfo(v) {\n        roomInfo = v;\n      },\n      get doctorInfo() {\n        return doctorInfo;\n      },\n      set doctorInfo(v) {\n        doctorInfo = v;\n      },\n      get showAll() {\n        return showAll;\n      },\n      set showAll(v) {\n        showAll = v;\n      },\n      get showRoom() {\n        return showRoom;\n      },\n      set showRoom(v) {\n        showRoom = v;\n      },\n      get showDoctor() {\n        return showDoctor;\n      },\n      set showDoctor(v) {\n        showDoctor = v;\n      },\n      get token() {\n        return token;\n      },\n      set token(v) {\n        token = v;\n      },\n      getRoomInfo,\n      getDoctorInfo,\n      getInfo,\n      ref,\n      watchEffect,\n      get axios() {\n        return axios;\n      },\n      RoomInfo,\n      DoctorInfo,\n      get RadioButton() {\n        return RadioButton;\n      },\n      get InputText() {\n        return InputText;\n      },\n      get Button() {\n        return Button;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watchEffect","axios","RoomInfo","DoctorInfo","RadioButton","InputText","Button","notifyType","name","roomInfo","doctorInfo","Object","showAll","showRoom","showDoctor","token","value","getRoomInfo","console","log","method","url","params","roomName","then","s","data","code","window","alert","msg","catch","err","getDoctorInfo","doctorName","length","getInfo"],"sources":["D:/Desktop/HMS-front-end/hms_frontend/src/manager/components/infoManage/ManagerInfo.vue"],"sourcesContent":["<template>\r\n    <br/>\r\n    <div class=\"card flex justify-content-center\">\r\n        <div class=\"flex flex-wrap gap-1\">\r\n            <div class=\"flex align-items-center\">\r\n                <RadioButton v-model=\"notifyType\" inputId=\"room\" value=\"科室\" />\r\n                <label for=\"room\" class=\"ml-2\">&nbsp;科室</label>&nbsp;&nbsp;\r\n                <RadioButton v-model=\"notifyType\" inputId=\"doctor\" value=\"医生\" />\r\n                <label for=\"doctor\" class=\"ml-2\">&nbsp;医生</label>\r\n            </div>\r\n        </div>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;\r\n        <InputText type=\"text\" v-model=\"name\" class=\"p-inputtext-sm\"/>&nbsp;\r\n        <Button @click=\"getInfo\" class=\"p-button-sm\">查询</Button>\r\n    </div>\r\n    <br/>\r\n    <div v-show=\"showAll\">\r\n        <div v-show=\"showRoom\">\r\n            <RoomInfo :name=\"name\" :info=\"roomInfo\"/>\r\n        </div>\r\n        <div v-show=\"showDoctor\">\r\n            <DoctorInfo :name=\"name\" :info=\"doctorInfo\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watchEffect } from 'vue';\r\nimport axios from 'axios'\r\nimport RoomInfo from './RoomInfo.vue'\r\nimport DoctorInfo from './DoctorInfo.vue'\r\n\r\nimport RadioButton from 'primevue/radiobutton'\r\nimport InputText from 'primevue/inputtext'\r\nimport Button from 'primevue/button';\r\n\r\nlet notifyType = ref('');\r\nlet name = ref('')\r\nlet roomInfo = ref('')\r\nlet doctorInfo = ref(new Object())\r\nlet showAll = ref(false)\r\nlet showRoom = ref(false)\r\nlet showDoctor = ref(false)\r\nlet token = \"eyJhbGciOiJIUzI1NiJ9.eyJub3dMb2dnZWRJblR5cGUiOiJub3dMb2dnZWRJblR5cGVBZG1pbiIsIm5vd0xvZ2dlZEluSWQiOiIxIiwiaWF0IjoxNjg0NzQ2OTQxLCJleHAiOjE2ODY1NDY5NDF9.npgDMKJW-7zrsoAlBmdtuWbQNqzhi_0bBzjXieLqKu8\"\r\n\r\nwatchEffect(()=>{\r\n    name.value = \"\"\r\n    showAll.value = false\r\n    if(notifyType.value==\"科室\") {\r\n        showRoom.value = true\r\n        showDoctor.value = false\r\n    }\r\n    else if(notifyType.value==\"医生\") {\r\n        showRoom.value = false\r\n        showDoctor.value = true\r\n    }\r\n    else {\r\n        showRoom.value = false\r\n        showDoctor.value = false\r\n    }\r\n})\r\n\r\nwatchEffect(()=>{\r\n    if(name.value!=null)\r\n    {\r\n        showAll.value = false\r\n    }\r\n})\r\n\r\nfunction getRoomInfo()\r\n{\r\n    console.log(name.value)\r\n    axios({\r\n        method: 'post',\r\n        url: 'http://121.199.161.134:8080/getRoomInfo',\r\n        params:{\r\n            roomName:name.value\r\n            \r\n        }\r\n    }).then((s)=>{\r\n        console.log(s)\r\n        if(s.data.code==0)\r\n        {\r\n            window.alert(\"请求错误，原因为\"+s.data.msg)\r\n        }\r\n        else\r\n        {\r\n            roomInfo.value = s.data.data\r\n            showAll.value = true\r\n        }\r\n    }).catch((err)=>{\r\n        window.alert(\"请求错误，原因为\"+err)\r\n    })\r\n}\r\n\r\nfunction getDoctorInfo()\r\n{\r\n    axios({\r\n        method: 'post',\r\n        url: 'http://121.199.161.134:8080/getDoctorInfo',\r\n        params:{\r\n            doctorName:name.value,\r\n            token:token\r\n        }\r\n        }).then((s)=>{\r\n            console.log(s)\r\n            if(s.data.code==0)\r\n        {\r\n            window.alert(\"请求错误，原因为\"+s.data.msg)\r\n        }\r\n        else if(s.data.data.length==0)\r\n        {\r\n            window.alert(\"医生不存在\")\r\n        }\r\n        else\r\n        {\r\n            doctorInfo.value = s.data.data[0]\r\n            console.log(doctorInfo.value)\r\n            showAll.value = true\r\n        }\r\n    }).catch((err)=>{\r\n        window.alert(\"请求错误，原因为\"+err)\r\n    })\r\n}\r\n\r\nfunction getInfo()\r\n{\r\n    if(notifyType.value==\"科室\")\r\n    {\r\n        console.log(\"科室\")\r\n        getRoomInfo()\r\n    }\r\n    else\r\n    {\r\n        console.log(\"医生\")\r\n        getDoctorInfo()\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.vert-middle {\r\n    text-align: center;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}