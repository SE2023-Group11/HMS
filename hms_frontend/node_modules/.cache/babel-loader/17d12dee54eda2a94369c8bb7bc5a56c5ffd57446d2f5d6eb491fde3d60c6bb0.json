{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"center\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"center\"\n  }\n};\nconst _hoisted_4 = {\n  style: {\n    \"text-align\": \"center\"\n  }\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"td\", {\n  style: {\n    \"width\": \"120px\"\n  }\n}, \"发起人：\", -1);\nconst _hoisted_6 = {\n  style: {\n    \"width\": \"300px\"\n  }\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"td\", null, \"所在科室：\", -1);\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"td\", null, \"发起时间：\", -1);\nconst _hoisted_9 = {\n  class: \"card flex justify-content-center\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"td\", {\n  style: {\n    \"width\": \"100px\"\n  }\n}, \"姓名：\", -1);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"td\", null, \"医生编号：\", -1);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"td\", null, \"所在科室：\", -1);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"td\", null, \"身份证号：\", -1);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"td\", null, \"手机号：\", -1);\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"td\", null, \"个人简介：\", -1);\nimport Card from 'primevue/card';\nimport Dialog from 'primevue/dialog';\nimport Button from 'primevue/button';\nimport { onMounted, ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  __name: 'NotifyInfo',\n  setup(__props) {\n    let string1 = \"医生注册申请\";\n    let string2 = \"医生信息修改申请\";\n    let array = ref([]);\n    let visibleList = [];\n    let detailInfo = ref({});\n    let token = \"eyJhbGciOiJIUzI1NiJ9.eyJub3dMb2dnZWRJblR5cGUiOiJub3dMb2dnZWRJblR5cGVBZG1pbiIsIm5vd0xvZ2dlZEluSWQiOiIxIiwiaWF0IjoxNjg0NzQ2OTQxLCJleHAiOjE2ODY1NDY5NDF9.npgDMKJW-7zrsoAlBmdtuWbQNqzhi_0bBzjXieLqKu8\";\n    onMounted(() => {\n      axios({\n        method: 'get',\n        url: 'http://121.199.161.134:8080/getAllNotifications',\n        params: {\n          token: token\n        }\n      }).then(res => {\n        console.log(res);\n        array.value = res.data.data;\n        console.log(array);\n        let i = 0;\n        for (i = 0; i < array.value.length; i++) {\n          visibleList.push(ref(false));\n        }\n      });\n    });\n    function getDetailInfo(item) {\n      visibleList[array.value.indexOf(item)].value = true;\n      axios({\n        method: 'post',\n        url: 'http://121.199.161.134:8080/getNotifyInfoByID',\n        params: {\n          detailId: item.detailId,\n          token: token\n        }\n      }).then(res => {\n        console.log(res);\n        detailInfo.value = res.data.data;\n      });\n    }\n    function acceptNotif(id) {\n      axios({\n        method: 'post',\n        url: 'http://121.199.161.134:8080/acceptNotify',\n        params: {\n          infoId: id,\n          token: token\n        }\n      }).then(res => {\n        console.log(res);\n      });\n    }\n    function declineNotif(id) {\n      axios({\n        method: 'post',\n        url: 'http://121.199.161.134:8080/declineNotify',\n        params: {\n          infoId: id,\n          token: token\n        }\n      }).then(res => {\n        console.log(res);\n      });\n    }\n    /*function generateList(res)\r\n    {\r\n        let i = 0\r\n        let array_t = res.data.data\r\n        console.log(array_t)\r\n        for(i=0; i<array_t.length; i++)\r\n        {\r\n            // console.log(array_t[i])\r\n            array.value[i] = array_t[i]\r\n        }\r\n        console.log(array.value.length)\r\n    }*/\n\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(array), item => {\n        return _openBlock(), _createBlock(_unref(Card), {\n          key: _unref(array).indexOf(item),\n          style: {\n            \"width\": \"45em\",\n            \"margin\": \"10px\"\n          }\n        }, {\n          title: _withCtx(() => [_createTextVNode(_toDisplayString(item.infoType == 1 ? _unref(string1) : _unref(string2)), 1)]),\n          content: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", null, [_createElementVNode(\"tr\", _hoisted_4, [_hoisted_5, _createElementVNode(\"td\", _hoisted_6, _toDisplayString(item.name), 1)]), _createElementVNode(\"tr\", null, [_hoisted_7, _createElementVNode(\"td\", null, _toDisplayString(item.sectionFirName + \"-\" + item.sectionSecName), 1)]), _createElementVNode(\"tr\", null, [_hoisted_8, _createElementVNode(\"td\", null, _toDisplayString(item.time.split(\"T\")[0] + \" \" + item.time.split(\"T\")[1]), 1)])])]), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_unref(Button), {\n            onClick: $event => getDetailInfo(item)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"详细信息\")]),\n            _: 2\n          }, 1032, [\"onClick\"]), _createTextVNode(\"       \"), _createVNode(_unref(Button), {\n            onClick: $event => acceptNotif(item.infoId)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"同意\")]),\n            _: 2\n          }, 1032, [\"onClick\"]), _createTextVNode(\"    \"), _createVNode(_unref(Button), {\n            onClick: $event => declineNotif(item.infoId)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"拒绝\")]),\n            _: 2\n          }, 1032, [\"onClick\"]), _createVNode(_unref(Dialog), {\n            visible: _unref(visibleList)[_unref(array).indexOf(item)].value,\n            \"onUpdate:visible\": $event => _unref(visibleList)[_unref(array).indexOf(item)].value = $event,\n            modal: \"\",\n            header: \"详细信息\",\n            style: {\n              width: '50vw'\n            }\n          }, {\n            default: _withCtx(() => [_createElementVNode(\"table\", null, [_createElementVNode(\"tr\", null, [_hoisted_10, _createElementVNode(\"td\", null, _toDisplayString(_unref(detailInfo).doctorName), 1)]), _createElementVNode(\"tr\", null, [_hoisted_11, _createElementVNode(\"td\", null, _toDisplayString(_unref(detailInfo).doctorId), 1)]), _createElementVNode(\"tr\", null, [_hoisted_12, _createElementVNode(\"td\", null, _toDisplayString(_unref(detailInfo).doctorSection), 1)]), _createElementVNode(\"tr\", null, [_hoisted_13, _createElementVNode(\"td\", null, _toDisplayString(_unref(detailInfo).doctorNumber), 1)]), _createElementVNode(\"tr\", null, [_hoisted_14, _createElementVNode(\"td\", null, _toDisplayString(_unref(detailInfo).doctorPhone), 1)]), _createElementVNode(\"tr\", null, [_hoisted_15, _createElementVNode(\"td\", null, _toDisplayString(_unref(detailInfo).doctorIntroduction), 1)])])]),\n            _: 2\n          }, 1032, [\"visible\", \"onUpdate:visible\"])])]),\n          _: 2\n        }, 1024);\n      }), 128))])])]);\n    };\n  }\n};","map":{"version":3,"names":["Card","Dialog","Button","onMounted","ref","axios","string1","string2","array","visibleList","detailInfo","token","method","url","params","then","res","console","log","value","data","i","length","push","getDetailInfo","item","indexOf","detailId","acceptNotif","id","infoId","declineNotif"],"sources":["D:/Desktop/HMS-front-end/hms_frontend/src/manager/components/notifyManage/NotifyInfo.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"display:flex; justify-content:center; align-items:center;\">\r\n            <div class=\"card\">\r\n                <Card v-for=\"item in array\" :key=\"array.indexOf(item)\" style=\"width: 45em; margin: 10px\">\r\n                    <template #title>{{ item.infoType==1?string1:string2 }}</template>\r\n                    <template #content>\r\n                        <div  style=\"display: flex; justify-content: center;\">\r\n                            <table>\r\n                                <tr style=\"text-align: center;\">\r\n                                    <td style=\"width: 120px;\">发起人：</td>\r\n                                    <td style=\"width: 300px;\">{{ item.name }}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>所在科室：</td>\r\n                                    <td>{{ item.sectionFirName+\"-\"+item.sectionSecName }}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>发起时间：</td>\r\n                                    <td>{{ item.time.split(\"T\")[0]+\" \"+item.time.split(\"T\")[1] }}</td>\r\n                                </tr>\r\n                            </table>\r\n                        </div>                        \r\n                        <div class=\"card flex justify-content-center\" style=\"margin-top: 20px;\">\r\n                            <Button @click=\"getDetailInfo(item)\">详细信息</Button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                            <Button @click=\"acceptNotif(item.infoId)\">同意</Button>&nbsp;&nbsp;&nbsp;\r\n                            <Button @click=\"declineNotif(item.infoId)\">拒绝</Button>\r\n                            <Dialog v-model:visible=\"visibleList[array.indexOf(item)].value\" modal header=\"详细信息\" :style=\"{ width: '50vw' }\">\r\n                                <table>\r\n                                    <tr>\r\n                                        <td style=\"width: 100px;\">姓名：</td>\r\n                                        <td>{{ detailInfo.doctorName }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>医生编号：</td>\r\n                                        <td>{{ detailInfo.doctorId }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>所在科室：</td>\r\n                                        <td>{{ detailInfo.doctorSection }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>身份证号：</td>\r\n                                        <td>{{ detailInfo.doctorNumber }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>手机号：</td>\r\n                                        <td>{{ detailInfo.doctorPhone }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td>个人简介：</td>\r\n                                        <td>{{ detailInfo.doctorIntroduction }}</td>\r\n                                    </tr>\r\n                                </table>\r\n                            </Dialog>\r\n                        </div>\r\n                    </template>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport Card from 'primevue/card'\r\nimport Dialog from 'primevue/dialog'\r\nimport Button from 'primevue/button'\r\nimport { onMounted, ref } from 'vue'\r\nimport axios from 'axios'\r\nlet string1 = \"医生注册申请\"\r\nlet string2 = \"医生信息修改申请\"\r\nlet array = ref([])\r\nlet visibleList = []\r\nlet detailInfo = ref({})\r\nlet token = \"eyJhbGciOiJIUzI1NiJ9.eyJub3dMb2dnZWRJblR5cGUiOiJub3dMb2dnZWRJblR5cGVBZG1pbiIsIm5vd0xvZ2dlZEluSWQiOiIxIiwiaWF0IjoxNjg0NzQ2OTQxLCJleHAiOjE2ODY1NDY5NDF9.npgDMKJW-7zrsoAlBmdtuWbQNqzhi_0bBzjXieLqKu8\"\r\nonMounted(()=>{\r\n    axios({\r\n        method: 'get',\r\n        url: 'http://121.199.161.134:8080/getAllNotifications',\r\n        params:{\r\n            token:token\r\n        }\r\n    }).then((res)=>{\r\n        console.log(res)\r\n        array.value = res.data.data\r\n        console.log(array)\r\n\r\n        let i = 0\r\n        for(i=0; i<array.value.length; i++)\r\n        {\r\n            visibleList.push(ref(false))\r\n        }\r\n    })    \r\n})\r\nfunction getDetailInfo(item)\r\n{\r\n    visibleList[array.value.indexOf(item)].value = true\r\n    axios({\r\n        method:'post',\r\n        url:'http://121.199.161.134:8080/getNotifyInfoByID',\r\n        params:{\r\n            detailId: item.detailId,\r\n            token:token\r\n        }\r\n    }).then((res)=>{\r\n        console.log(res)\r\n        detailInfo.value = res.data.data\r\n    })\r\n}\r\nfunction acceptNotif(id)\r\n{\r\n    axios({\r\n        method: 'post',\r\n        url: 'http://121.199.161.134:8080/acceptNotify',\r\n        params: {\r\n            infoId:id,\r\n            token:token\r\n        }\r\n    }).then((res)=>{\r\n        console.log(res)\r\n    })\r\n}\r\nfunction declineNotif(id)\r\n{\r\n    axios({\r\n        method: 'post',\r\n        url: 'http://121.199.161.134:8080/declineNotify',\r\n        params: {\r\n            infoId:id,\r\n            token:token\r\n        }\r\n    }).then((res)=>{\r\n        console.log(res)\r\n    })\r\n}\r\n/*function generateList(res)\r\n{\r\n    let i = 0\r\n    let array_t = res.data.data\r\n    console.log(array_t)\r\n    for(i=0; i<array_t.length; i++)\r\n    {\r\n        // console.log(array_t[i])\r\n        array.value[i] = array_t[i]\r\n    }\r\n    console.log(array.value.length)\r\n}*/\r\n</script>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA,OAAOA,IAAI,MAAM,eAAe;AAChC,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,MAAM,MAAM,iBAAiB;AACpC,SAASC,SAAS,EAAEC,GAAG,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;;;;IACzB,IAAIC,OAAO,GAAG,QAAQ;IACtB,IAAIC,OAAO,GAAG,UAAU;IACxB,IAAIC,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACnB,IAAIK,WAAW,GAAG,EAAE;IACpB,IAAIC,UAAU,GAAGN,GAAG,CAAC,CAAC,CAAC,CAAC;IACxB,IAAIO,KAAK,GAAG,mMAAmM;IAC/MR,SAAS,CAAC,MAAI;MACVE,KAAK,CAAC;QACFO,MAAM,EAAE,KAAK;QACbC,GAAG,EAAE,iDAAiD;QACtDC,MAAM,EAAC;UACHH,KAAK,EAACA;QACV;MACJ,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBR,KAAK,CAACW,KAAK,GAAGH,GAAG,CAACI,IAAI,CAACA,IAAI;QAC3BH,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC;QAElB,IAAIa,CAAC,GAAG,CAAC;QACT,KAAIA,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACb,KAAK,CAACW,KAAK,CAACG,MAAM,EAAED,CAAC,EAAE,EAClC;UACIZ,WAAW,CAACc,IAAI,CAACnB,GAAG,CAAC,KAAK,CAAC,CAAC;QAChC;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;IACF,SAASoB,aAAaA,CAACC,IAAI,EAC3B;MACIhB,WAAW,CAACD,KAAK,CAACW,KAAK,CAACO,OAAO,CAACD,IAAI,CAAC,CAAC,CAACN,KAAK,GAAG,IAAI;MACnDd,KAAK,CAAC;QACFO,MAAM,EAAC,MAAM;QACbC,GAAG,EAAC,+CAA+C;QACnDC,MAAM,EAAC;UACHa,QAAQ,EAAEF,IAAI,CAACE,QAAQ;UACvBhB,KAAK,EAACA;QACV;MACJ,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBN,UAAU,CAACS,KAAK,GAAGH,GAAG,CAACI,IAAI,CAACA,IAAI;MACpC,CAAC,CAAC;IACN;IACA,SAASQ,WAAWA,CAACC,EAAE,EACvB;MACIxB,KAAK,CAAC;QACFO,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,0CAA0C;QAC/CC,MAAM,EAAE;UACJgB,MAAM,EAACD,EAAE;UACTlB,KAAK,EAACA;QACV;MACJ,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MACpB,CAAC,CAAC;IACN;IACA,SAASe,YAAYA,CAACF,EAAE,EACxB;MACIxB,KAAK,CAAC;QACFO,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,2CAA2C;QAChDC,MAAM,EAAE;UACJgB,MAAM,EAACD,EAAE;UACTlB,KAAK,EAACA;QACV;MACJ,CAAC,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAG;QACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MACpB,CAAC,CAAC;IACN;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}