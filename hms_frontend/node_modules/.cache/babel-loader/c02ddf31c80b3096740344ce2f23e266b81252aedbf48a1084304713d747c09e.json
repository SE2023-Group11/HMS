{"ast":null,"code":"import { DomHandler, ObjectUtils } from 'primevue/utils';\nfunction bind(el, binding) {\n  const {\n    onFocusIn,\n    onFocusOut\n  } = binding.value || {};\n  el.$_pfocustrap_mutationobserver = new MutationObserver(mutationList => {\n    mutationList.forEach(mutation => {\n      if (mutation.type === 'childList' && !el.contains(document.activeElement)) {\n        const findNextFocusableElement = el => {\n          const focusableElement = DomHandler.isFocusableElement(el) ? el : DomHandler.getFirstFocusableElement(el);\n          return ObjectUtils.isNotEmpty(focusableElement) ? focusableElement : findNextFocusableElement(el.nextSibling);\n        };\n        DomHandler.focus(findNextFocusableElement(mutation.nextSibling));\n      }\n    });\n  });\n  el.$_pfocustrap_mutationobserver.disconnect();\n  el.$_pfocustrap_mutationobserver.observe(el, {\n    childList: true\n  });\n  el.$_pfocustrap_focusinlistener = event => onFocusIn && onFocusIn(event);\n  el.$_pfocustrap_focusoutlistener = event => onFocusOut && onFocusOut(event);\n  el.addEventListener('focusin', el.$_pfocustrap_focusinlistener);\n  el.addEventListener('focusout', el.$_pfocustrap_focusoutlistener);\n}\nfunction unbind(el) {\n  el.$_pfocustrap_mutationobserver && el.$_pfocustrap_mutationobserver.disconnect();\n  el.$_pfocustrap_focusinlistener && el.removeEventListener('focusin', el.$_pfocustrap_focusinlistener) && (el.$_pfocustrap_focusinlistener = null);\n  el.$_pfocustrap_focusoutlistener && el.removeEventListener('focusout', el.$_pfocustrap_focusoutlistener) && (el.$_pfocustrap_focusoutlistener = null);\n}\nfunction autoFocus(el, binding) {\n  const {\n    autoFocusSelector = '',\n    firstFocusableSelector = '',\n    autoFocus = false\n  } = binding.value || {};\n  let focusableElement = DomHandler.getFirstFocusableElement(el, `[autofocus]:not(.p-hidden-focusable)${autoFocusSelector}`);\n  autoFocus && !focusableElement && (focusableElement = DomHandler.getFirstFocusableElement(el, `:not(.p-hidden-focusable)${firstFocusableSelector}`));\n  DomHandler.focus(focusableElement);\n}\nfunction onFirstHiddenElementFocus(event) {\n  const {\n    currentTarget,\n    relatedTarget\n  } = event;\n  const focusableElement = relatedTarget === currentTarget.$_pfocustrap_lasthiddenfocusableelement ? DomHandler.getFirstFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`) : currentTarget.$_pfocustrap_lasthiddenfocusableelement;\n  DomHandler.focus(focusableElement);\n}\nfunction onLastHiddenElementFocus(event) {\n  const {\n    currentTarget,\n    relatedTarget\n  } = event;\n  const focusableElement = relatedTarget === currentTarget.$_pfocustrap_firsthiddenfocusableelement ? DomHandler.getLastFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`) : currentTarget.$_pfocustrap_firsthiddenfocusableelement;\n  DomHandler.focus(focusableElement);\n}\nfunction createHiddenFocusableElements(el, binding) {\n  const {\n    tabIndex = 0,\n    firstFocusableSelector = '',\n    lastFocusableSelector = ''\n  } = binding.value || {};\n  const createFocusableElement = onFocus => {\n    const element = document.createElement('span');\n    element.classList = 'p-hidden-accessible p-hidden-focusable';\n    element.tabIndex = tabIndex;\n    element.setAttribute('aria-hidden', 'true');\n    element.setAttribute('role', 'presentation');\n    element.addEventListener('focus', onFocus);\n    return element;\n  };\n  const firstFocusableElement = createFocusableElement(onFirstHiddenElementFocus);\n  const lastFocusableElement = createFocusableElement(onLastHiddenElementFocus);\n  firstFocusableElement.$_pfocustrap_lasthiddenfocusableelement = lastFocusableElement;\n  firstFocusableElement.$_pfocustrap_focusableselector = firstFocusableSelector;\n  lastFocusableElement.$_pfocustrap_firsthiddenfocusableelement = firstFocusableElement;\n  lastFocusableElement.$_pfocustrap_focusableselector = lastFocusableSelector;\n  el.prepend(firstFocusableElement);\n  el.append(lastFocusableElement);\n}\nconst FocusTrap = {\n  mounted(el, binding) {\n    const {\n      disabled\n    } = binding.value || {};\n    if (!disabled) {\n      createHiddenFocusableElements(el, binding);\n      bind(el, binding);\n      autoFocus(el, binding);\n    }\n  },\n  updated(el, binding) {\n    const {\n      disabled\n    } = binding.value || {};\n    disabled && unbind(el);\n  },\n  unmounted(el) {\n    unbind(el);\n  }\n};\nexport { FocusTrap as default };","map":{"version":3,"names":["DomHandler","ObjectUtils","bind","el","binding","onFocusIn","onFocusOut","value","$_pfocustrap_mutationobserver","MutationObserver","mutationList","forEach","mutation","type","contains","document","activeElement","findNextFocusableElement","focusableElement","isFocusableElement","getFirstFocusableElement","isNotEmpty","nextSibling","focus","disconnect","observe","childList","$_pfocustrap_focusinlistener","event","$_pfocustrap_focusoutlistener","addEventListener","unbind","removeEventListener","autoFocus","autoFocusSelector","firstFocusableSelector","onFirstHiddenElementFocus","currentTarget","relatedTarget","$_pfocustrap_lasthiddenfocusableelement","parentElement","$_pfocustrap_focusableselector","onLastHiddenElementFocus","$_pfocustrap_firsthiddenfocusableelement","getLastFocusableElement","createHiddenFocusableElements","tabIndex","lastFocusableSelector","createFocusableElement","onFocus","element","createElement","classList","setAttribute","firstFocusableElement","lastFocusableElement","prepend","append","FocusTrap","mounted","disabled","updated","unmounted","default"],"sources":["D:/大二下/软件工程/Clone/HMS-front-end/hms_frontend/node_modules/primevue/focustrap/focustrap.esm.js"],"sourcesContent":["import { DomHandler, ObjectUtils } from 'primevue/utils';\r\n\r\nfunction bind(el, binding) {\r\n    const { onFocusIn, onFocusOut } = binding.value || {};\r\n\r\n    el.$_pfocustrap_mutationobserver = new MutationObserver((mutationList) => {\r\n        mutationList.forEach((mutation) => {\r\n            if (mutation.type === 'childList' && !el.contains(document.activeElement)) {\r\n                const findNextFocusableElement = (el) => {\r\n                    const focusableElement = DomHandler.isFocusableElement(el) ? el : DomHandler.getFirstFocusableElement(el);\r\n\r\n                    return ObjectUtils.isNotEmpty(focusableElement) ? focusableElement : findNextFocusableElement(el.nextSibling);\r\n                };\r\n\r\n                DomHandler.focus(findNextFocusableElement(mutation.nextSibling));\r\n            }\r\n        });\r\n    });\r\n\r\n    el.$_pfocustrap_mutationobserver.disconnect();\r\n    el.$_pfocustrap_mutationobserver.observe(el, {\r\n        childList: true\r\n    });\r\n\r\n    el.$_pfocustrap_focusinlistener = (event) => onFocusIn && onFocusIn(event);\r\n    el.$_pfocustrap_focusoutlistener = (event) => onFocusOut && onFocusOut(event);\r\n\r\n    el.addEventListener('focusin', el.$_pfocustrap_focusinlistener);\r\n    el.addEventListener('focusout', el.$_pfocustrap_focusoutlistener);\r\n}\r\n\r\nfunction unbind(el) {\r\n    el.$_pfocustrap_mutationobserver && el.$_pfocustrap_mutationobserver.disconnect();\r\n    el.$_pfocustrap_focusinlistener && el.removeEventListener('focusin', el.$_pfocustrap_focusinlistener) && (el.$_pfocustrap_focusinlistener = null);\r\n    el.$_pfocustrap_focusoutlistener && el.removeEventListener('focusout', el.$_pfocustrap_focusoutlistener) && (el.$_pfocustrap_focusoutlistener = null);\r\n}\r\n\r\nfunction autoFocus(el, binding) {\r\n    const { autoFocusSelector = '', firstFocusableSelector = '', autoFocus = false } = binding.value || {};\r\n    let focusableElement = DomHandler.getFirstFocusableElement(el, `[autofocus]:not(.p-hidden-focusable)${autoFocusSelector}`);\r\n\r\n    autoFocus && !focusableElement && (focusableElement = DomHandler.getFirstFocusableElement(el, `:not(.p-hidden-focusable)${firstFocusableSelector}`));\r\n    DomHandler.focus(focusableElement);\r\n}\r\n\r\nfunction onFirstHiddenElementFocus(event) {\r\n    const { currentTarget, relatedTarget } = event;\r\n    const focusableElement =\r\n        relatedTarget === currentTarget.$_pfocustrap_lasthiddenfocusableelement\r\n            ? DomHandler.getFirstFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`)\r\n            : currentTarget.$_pfocustrap_lasthiddenfocusableelement;\r\n\r\n    DomHandler.focus(focusableElement);\r\n}\r\n\r\nfunction onLastHiddenElementFocus(event) {\r\n    const { currentTarget, relatedTarget } = event;\r\n    const focusableElement =\r\n        relatedTarget === currentTarget.$_pfocustrap_firsthiddenfocusableelement\r\n            ? DomHandler.getLastFocusableElement(currentTarget.parentElement, `:not(.p-hidden-focusable)${currentTarget.$_pfocustrap_focusableselector}`)\r\n            : currentTarget.$_pfocustrap_firsthiddenfocusableelement;\r\n\r\n    DomHandler.focus(focusableElement);\r\n}\r\n\r\nfunction createHiddenFocusableElements(el, binding) {\r\n    const { tabIndex = 0, firstFocusableSelector = '', lastFocusableSelector = '' } = binding.value || {};\r\n\r\n    const createFocusableElement = (onFocus) => {\r\n        const element = document.createElement('span');\r\n\r\n        element.classList = 'p-hidden-accessible p-hidden-focusable';\r\n        element.tabIndex = tabIndex;\r\n        element.setAttribute('aria-hidden', 'true');\r\n        element.setAttribute('role', 'presentation');\r\n        element.addEventListener('focus', onFocus);\r\n\r\n        return element;\r\n    };\r\n\r\n    const firstFocusableElement = createFocusableElement(onFirstHiddenElementFocus);\r\n    const lastFocusableElement = createFocusableElement(onLastHiddenElementFocus);\r\n\r\n    firstFocusableElement.$_pfocustrap_lasthiddenfocusableelement = lastFocusableElement;\r\n    firstFocusableElement.$_pfocustrap_focusableselector = firstFocusableSelector;\r\n\r\n    lastFocusableElement.$_pfocustrap_firsthiddenfocusableelement = firstFocusableElement;\r\n    lastFocusableElement.$_pfocustrap_focusableselector = lastFocusableSelector;\r\n\r\n    el.prepend(firstFocusableElement);\r\n    el.append(lastFocusableElement);\r\n}\r\n\r\nconst FocusTrap = {\r\n    mounted(el, binding) {\r\n        const { disabled } = binding.value || {};\r\n\r\n        if (!disabled) {\r\n            createHiddenFocusableElements(el, binding);\r\n            bind(el, binding);\r\n            autoFocus(el, binding);\r\n        }\r\n    },\r\n    updated(el, binding) {\r\n        const { disabled } = binding.value || {};\r\n\r\n        disabled && unbind(el);\r\n    },\r\n    unmounted(el) {\r\n        unbind(el);\r\n    }\r\n};\r\n\r\nexport { FocusTrap as default };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}